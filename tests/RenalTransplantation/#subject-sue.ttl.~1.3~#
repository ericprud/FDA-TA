# $Id: subject-sue.ttl,v 1.3 2014-02-04 15:07:19 eric Exp $
#
# ericP at the keyboard

@prefix : <http://www.w3.org/2013/12/FDA-TA/tests/RenalTransplantation/subject-sue#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .

@prefix ucum: <http://unitsofmeasure.org/ucum-essence.xml#> .
@prefix core: <http://www.w3.org/2013/12/FDA-TA/Core#> .
@prefix data: <http://www.w3.org/2013/12/FDA-TA/Datatypes#> .
@prefix RenalX: <http://www.w3.org/2013/12/FDA-TA/RenalTransplantation#> .

<http://www.w3.org/2013/12/FDA-TA/tests/RenalTransplantation/subject-sue> a owl:Ontology ;
    owl:imports <http://www.w3.org/2013/12/FDA-TA/Core> ,
               <http://www.w3.org/2013/12/FDA-TA/Datatypes> ,
               <http://www.w3.org/2013/12/FDA-TA/RenalTransplantation>  .

:subject
    foaf:name "Sue";

    # Sue has a baseline state: low GFR (21 ml/hr) and elevated serum creatinine and time on dialysis of 18 months.
    core:observation :subjectsOutpatientGFR23 , :subjectsOutpatientSCr138 ;

    # Sue has a transplant and is treated with anti-rejection ExperimentalDrugB.
    core:prescription :subjectOnExperimentalDrugB ;
    core:observation :subjectsGFRpreOp ;
    core:intervention :subjectsTransplant ;

    # Post-Op, she has SCr and 24 hour urine output measurements done daily for five days.
    core:observation :subjectsPostOpHour12UrineOutput , :subjectsPostOpHour12Temperature , :subjectsPostOpHour12SiteTenderness , :subjectsPostOpHour12SCr , :subjectsPostOpHour12GFR ;
    core:observation :subjectsPostOpHour36UrineOutput , :subjectsPostOpHour36Temperature , :subjectsPostOpHour36SiteTenderness , :subjectsPostOpHour36SCr , :subjectspostOpHour36GFR ;
    core:prescription :subjectOnExperimentalDrugB2 ; # more of it
    core:observation :subjectsPostOpDay3UrineOutput , :subjectsPostOpDay3Temperature , :subjectsPostOpDay3SiteTenderness , :subjectsPostOpDay3SCr , :subjectspostOpDay3GFR ;
    core:observation :subjectsCSAR1 , :subjectsRenalBiopsy1 , :subjectsRenalBiopsy1report ;

    # loss of kidney
    core:hasOutcomeAssessment :subjectsKidneyBPAR .


###############################################################################
# Observations and Assessments:

# background state
:subjectsOutpatientGFR23 a RenalX:RenalFunctionObservation ;
    core:hasObservationTime "2013-07-04T15:34:00Z"^^xsd:dateTime ;
    RenalX:gfrFlowRate [ data:value 21.0 ; data:units ucum:mL-per-minute ] .

:subjectsOutpatientSCr138 a RenalX:RenalFunctionObservation ;
    core:hasObservationTime "2013-07-04T15:41:00Z"^^xsd:dateTime ;
    RenalX:serumCreatinine [ data:value 4.5 ; data:units ucum:mg_dL ].

# pre-op diagnostics
:subjectsGFRpreOp a RenalX:RenalFunctionObservation ;
    core:hasObservationTime "2013-07-06T07:22:00Z"^^xsd:dateTime ;
    RenalX:gfrFlowRate [ data:value 20.0 ; data:units ucum:mL-per-minute ] .

# interventions
:subjectOnExperimentalDrugB # a core:MedicationAdministration ;
    core:prescriptionTime "2013-07-06T07:25:00Z"^^xsd:dateTime ;
    core:medication core:ExperimentalDrugB ;
    core:hasDosage [
        core:hasMedicationQuantity [ data:value 50.0 ; data:units ucum:mg ] ;
        core:hasMedicationSchedule [ core:hasMedicationFrequency 1 ; core:hasMedicationDuration 1.0 ; core:hasMedicationUnits "d" ]
    ] .

:subjectsTransplant a RenalX:RenalTransplant ;
    core:interventionTime "2013-07-06T07:28:00Z"^^xsd:dateTime .

# 12 hours post-op: urine output, temperature, site tenderness (for diffuse tenderness), serum creatinine, GFR
:subjectsPostOpHour12UrineOutput    a RenalX:RenalFunctionObservation ; core:hasObservationTime "2013-07-06T19:07:00Z"^^xsd:dateTime ; RenalX:urineVolume24hour [ data:value 2.1 ; data:units ucum:L ].
:subjectsPostOpHour12Temperature    a RenalX:RenalFunctionObservation ; core:hasObservationTime "2013-07-06T19:08:00Z"^^xsd:dateTime ; RenalX:coreTemperature   [ data:value 37.6 ; data:units ucum:C ].
:subjectsPostOpHour12SiteTenderness a RenalX:RenalFunctionObservation ; core:hasObservationTime "2013-07-06T19:09:00Z"^^xsd:dateTime ; RenalX:siteTenderness    [ data:value "2+" ; data:units data:subjectiveScale1_4 ].
:subjectsPostOpHour12SCr            a RenalX:RenalFunctionObservation ; core:hasObservationTime "2013-07-06T19:11:00Z"^^xsd:dateTime ; RenalX:serumCreatinine   [ data:value 2.9 ; data:units ucum:mg_dL ].
:subjectsPostOpHour12GFR            a RenalX:RenalFunctionObservation ; core:hasObservationTime "2013-07-06T20:10:00Z"^^xsd:dateTime ; RenalX:gfrFlowRate       [ data:value 19.0 ; data:units ucum:mL-per-minute ].

# 36 hours post-op: urine output, temperature, site tenderness (for diffuse tenderness), serum creatinine
:subjectsPostOpHour36UrineOutput    a RenalX:RenalFunctionObservation ; core:hasObservationTime "2013-07-07T18:28:00Z"^^xsd:dateTime ; RenalX:urineVolume24hour [ data:value 1.9 ; data:units ucum:L ].
:subjectsPostOpHour36Temperature    a RenalX:RenalFunctionObservation ; core:hasObservationTime "2013-07-07T18:29:00Z"^^xsd:dateTime ; RenalX:coreTemperature [ data:value 37.9 ; data:units ucum:C ].
:subjectsPostOpHour36SiteTenderness a RenalX:RenalFunctionObservation ; core:hasObservationTime "2013-07-07T18:00:00Z"^^xsd:dateTime ; RenalX:siteTenderness [ data:value "3+" ; data:units data:subjectiveScale1_4 ].
:subjectsPostOpHour36SCr            a RenalX:RenalFunctionObservation ; core:hasObservationTime "2013-07-07T19:02:00Z"^^xsd:dateTime ; RenalX:serumCreatinine [ data:value 3.3 ; data:units ucum:mg_dL ].
:subjectspostOpHour36GFR            a RenalX:RenalFunctionObservation ; core:hasObservationTime "2013-07-07T19:30:00Z"^^xsd:dateTime ; RenalX:gfrFlowRate [ data:value 18.0 ; data:units ucum:mL-per-minute ].

# up the dose of damitol
:subjectOnExperimentalDrugB2 # a core:MedicationAdministration ; # @@ there needs to be a reason for the administration?
    core:prescriptionTime "2013-07-07T19:33:00Z"^^xsd:dateTime ;
    core:medication core:ExperimentalDrugB ;
    core:hasDosage [
        core:hasMedicationQuantity [ data:value 75.0 ; data:units ucum:mg ] ;
        core:hasMedicationSchedule [ core:hasMedicationFrequency 1 ; core:hasMedicationDuration 1.0 ; core:hasMedicationUnits "d" ]
    ] .

# 3 days post-op: urine output, temperature, site tenderness (for diffuse tenderness), serum creatinine, GFR
:subjectsPostOpDay3UrineOutput      a RenalX:RenalFunctionObservation ; core:hasObservationTime "2013-07-08T14:18:00Z"^^xsd:dateTime ; RenalX:urineVolume24hour [ data:value 1.7 ; data:units ucum:L ].
:subjectsPostOpDay3Temperature      a RenalX:RenalFunctionObservation ; core:hasObservationTime "2013-07-08T14:19:00Z"^^xsd:dateTime ; RenalX:coreTemperature   [ data:value 39.1 ; data:units ucum:C ].
:subjectsPostOpDay3SiteTenderness   a RenalX:RenalFunctionObservation ; core:hasObservationTime "2013-07-08T14:20:00Z"^^xsd:dateTime ; RenalX:siteTenderness    [ data:value "4+" ; data:units data:subjectiveScale1_4 ].
:subjectsPostOpDay3SCr              a RenalX:RenalFunctionObservation ; core:hasObservationTime "2013-07-08T14:22:00Z"^^xsd:dateTime ; RenalX:serumCreatinine   [ data:value 3.4 ; data:units ucum:mg_dL ].
:subjectspostOpDay3GFR              a RenalX:RenalFunctionObservation ; core:hasObservationTime "2013-07-08T14:50:00"^^xsd:dateTime ; RenalX:gfrFlowRate        [ data:value 12.0 ; data:units ucum:mL-per-minute ].

# CSAR diagnosis
:subjectsCSAR1 a RenalX:RenalFunctionDiagnosis ; core:hasObservationTime "2013-07-08T14:52:00Z"^^xsd:dateTime ;
    core:isSupportedBy :subjectspostOpHour36GFR , :subjectsPostOpDay3UrineOutput , :subjectsPostOpDay3Temperature ,
                     :subjectsPostOpDay3SiteTenderness , :subjectsPostOpDay3SCr , :subjectspostOpDay3GFR .

:subjectsRenalBiopsy1 a RenalX:RenalBiopsy ; core:hasObservationTime "2013-07-08T15:35:00Z"^^xsd:dateTime ;
    core:isJustifiedBy :subjectsCSAR1 ;
    core:hasLabReport :subjectsRenalBiopsy1report .

:subjectsRenalBiopsy1report a RenalX:RenalBiopsyReport ; core:hasObservationTime "2013-07-08T16:10:00Z"^^xsd:dateTime ;
    core:hasPathologyFinding RenalX:BanffIII . # e.g. evidence of cell-mediated graft attack, T-cell infiltration
    # The lab and pathologist are called out in the Concept Map but are they really useful here?.

# Loss of Kidney
:subjectsKidneyBPAR a RenalX:KidneyGraftOutcomeAssessment ;
    core:hasObservationTime "2013-07-08T16:15:00Z"^^xsd:dateTime ;
    core:beforeIntervention :subjectsOutpatientGFR23 , :subjectsGFRpreOp ; # @@ what's the most persuasive start observation?
    core:prescription :subjectOnExperimentalDrugB ;
    core:intervention :subjectsTransplant ;
    core:prescription :subjectOnExperimentalDrugB2 ;
    core:afterIntervention :subjectsRenalBiopsy1report ; # @@ isConfirmedBy
    core:hasOutcomeValue RenalX:NonFunctioningGraft .

